/*!
 * froala_editor v2.1.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms
 * Copyright 2014-2016 Froala Labs
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,l){return void 0===l&&(l="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(l),l}:e(jQuery)}(function(e){"use strict";e.extend(e.FroalaEditor.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_]"}),e.extend(e.FroalaEditor.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableRemove","|","tableRows","tableColumns","tableStyle","-","tableCells","tableCellBackground","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,tableInsertHelperOffset:20}),e.FroalaEditor.PLUGINS.table=function(t){function l(){var e=t.$tb.find('.fr-command[data-cmd="insertTable"]'),l=t.popups.get("table.insert");if(l||(l=r()),!l.hasClass("fr-active")){t.popups.refresh("table.insert"),t.popups.setContainer("table.insert",t.$tb);var a=e.offset().left+e.outerWidth()/2,o=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("table.insert",a,o,e.outerHeight())}}function a(){var l=x();if(l){var a=t.popups.get("table.edit");a||(a=n()),t.popups.setContainer("table.edit",e(t.opts.scrollableContainer));var o=S(l),s=(o.left+o.right)/2,r=o.bottom;if(t.popups.show("table.edit",s,r,o.bottom-o.top),t.$el.find(".fr-selected-cell").length>1){t.toolbar.disable(),t.$el.removeClass("fr-no-selection"),t.edit.on();var i=e(t.original_window).scrollTop();t.$el.focus(),t.selection.setAtEnd(t.$el.find(".fr-selected-cell:last").get(0)),t.selection.restore(),e(t.original_window).scrollTop(i),t.button.bulkRefresh()}}}function o(){var l=x();if(l){var a=t.popups.get("table.colors");a||(a=f()),t.popups.setContainer("table.colors",e(t.opts.scrollableContainer));var o=S(l),s=(o.left+o.right)/2,r=o.bottom;c(),t.popups.show("table.colors",s,r,o.bottom-o.top)}}function s(){0===t.$el.get(0).querySelectorAll(".fr-selected-cell").length&&t.toolbar.enable()}function r(){var l="";t.opts.tableInsertButtons.length>0&&(l='<div class="fr-buttons">'+t.button.buildList(t.opts.tableInsertButtons)+"</div>");var a={buttons:l,rows_columns:i()},o=t.popups.create("table.insert",a);return t.popups.onHide("table.insert",function(){o.find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseenter")}),o.on("mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell",function(l){var a=e(l.currentTarget),o=a.data("row"),s=a.data("col"),r=a.parent();r.siblings(".fr-table-size-info").html(o+" &times; "+s),r.find("> span").removeClass("hover");for(var i=1;i<=t.opts.tableInsertMaxSize;i++)for(var n=0;n<=t.opts.tableInsertMaxSize;n++){var f=r.find('> span[data-row="'+i+'"][data-col="'+n+'"]');o>=i&&s>=n?f.addClass("hover"):o+1>=i||2>=i&&!t.helpers.isMobile()?f.css("display","inline-block"):i>2&&!t.helpers.isMobile()&&f.css("display","none")}}),t.events.on("destroy",function(){o.off("mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell")},!0),o}function i(){for(var e='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',l=1;l<=t.opts.tableInsertMaxSize;l++){for(var a=1;a<=t.opts.tableInsertMaxSize;a++){var o="inline-block";l>2&&!t.helpers.isMobile()&&(o="none");var s="fr-table-cell ";1==l&&1==a&&(s+=" hover"),e+='<span class="fr-command '+s+'" data-cmd="tableInsert" data-row="'+l+'" data-col="'+a+'" data-param1="'+l+'" data-param2="'+a+'" style="display: '+o+';"><span></span></span>'}e+='<div class="new-line"></div>'}return e+="</div></div>"}function n(){var e="";t.opts.tableEditButtons.length>0&&(e='<div class="fr-buttons">'+t.button.buildList(t.opts.tableEditButtons)+"</div>");var l={buttons:e},o=t.popups.create("table.edit",l);return t.popups.onHide("table.edit",s),t.$wp.on("scroll.table-edit",function(){t.popups.isVisible("table.edit")&&a()}),t.events.on("destroy",function(){t.$wp.off("scroll.table-edit")}),o}function f(){var e="";t.opts.tableColorsButtons.length>0&&(e='<div class="fr-buttons fr-table-colors-buttons">'+t.button.buildList(t.opts.tableColorsButtons)+"</div>");var l={buttons:e,colors:d()},a=t.popups.create("table.colors",l);return t.$wp.on("scroll.table-colors",function(){t.popups.isVisible("table.colors")&&o()}),t.events.on("destroy",function(){t.$wp.off("scroll.table-colors")}),a}function d(){for(var e='<div class="fr-table-colors">',l=0;l<t.opts.tableColors.length;l++)0!==l&&l%t.opts.tableColorsStep===0&&(e+="<br>"),e+="REMOVE"!=t.opts.tableColors[l]?'<span class="fr-command" style="background: '+t.opts.tableColors[l]+';" data-cmd="tableCellBackgroundColor" data-param1="'+t.opts.tableColors[l]+'"></span>':'<span class="fr-command" data-cmd="tableCellBackgroundColor" data-param1="REMOVE" title="'+t.language.translate("Clear Formatting")+'"><i class="fa fa-eraser"></i></span>';return e+="</div>"}function c(){var e=t.popups.get("table.colors"),l=t.$el.find(".fr-selected-cell:first");e.find(".fr-selected-color").removeClass("fr-selected-color"),e.find('span[data-param1="'+t.helpers.RGBToHex(l.css("background-color"))+'"]').addClass("fr-selected-color")}function p(l,a){var o,s,r='<table style="width: 100%;"><tbody>',i=100/a;for(o=0;l>o;o++){for(r+="<tr>",s=0;a>s;s++)r+='<td style="width: '+i.toFixed(4)+'%;">',0===o&&0===s&&(r+=e.FroalaEditor.MARKERS),r+="<br></td>";r+="</tr>"}r+="</tbody></table>",t.html.insert(r),t.selection.restore()}function h(){if(t.$el.find(".fr-selected-cell").length>0){var e=t.$el.find(".fr-selected-cell").closest("table");t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),t.selection.restore(),t.popups.hide("table.edit"),e.remove()}}function b(){var l=t.$el.find(".fr-selected-cell").closest("table");if(l.length>0&&0===l.find("th").length){var o,s="<thead><tr>",r=0;for(l.find("tr:first > td").each(function(){var t=e(this);r+=parseInt(t.attr("colspan"),10)||1}),o=0;r>o;o++)s+="<th><br></th>";s+="</tr></thead>",l.prepend(s),a()}}function u(){var e=t.$el.find(".fr-selected-cell").closest("table"),l=e.find("thead");if(l.length>0)if(0===e.find("tbody tr").length)h();else if(l.remove(),t.$el.find(".fr-selected-cell").length>0)a();else{t.popups.hide("table.edit");var o=e.find("tbody tr:first td:first").get(0);o&&(t.selection.setAtEnd(o),t.selection.restore())}}function g(l){var o=t.$el.find(".fr-selected-cell").closest("table");if(o.length>0){if(t.$el.find("th.fr-selected-cell").length>0&&"above"==l)return;var s,r,i=x(),n=k(i);r="above"==l?n.min_i:n.max_i;var f="<tr>";for(s=0;s<i[r].length;s++)if("below"==l&&r<i.length-1&&i[r][s]==i[r+1][s]||"above"==l&&r>0&&i[r][s]==i[r-1][s]){if(0===s||s>0&&i[r][s]!=i[r][s-1]){var d=e(i[r][s]);d.attr("rowspan",parseInt(d.attr("rowspan"),10)+1)}}else f+="<td><br></td>";f+="</tr>";var c=e(o.find("tr").not(o.find("table tr")).get(r));"below"==l?c.after(f):"above"==l&&(c.before(f),t.popups.isVisible("table.edit")&&a())}}function m(){var l=t.$el.find(".fr-selected-cell").closest("table");if(l.length>0){var a,o,s,r=x(),i=k(r);if(0===i.min_i&&i.max_i==r.length-1)h();else{for(a=i.max_i;a>=i.min_i;a--){for(s=e(l.find("tr").not(l.find("table tr")).get(a)),o=0;o<r[a].length;o++)if(0===o||r[a][o]!=r[a][o-1]){var n=e(r[a][o]);if(parseInt(n.attr("rowspan"),10)>1){var f=parseInt(n.attr("rowspan"),10)-1;1==f?n.removeAttr("rowspan"):n.attr("rowspan",f)}if(a<r.length-1&&r[a][o]==r[a+1][o]&&(0===a||r[a][o]!=r[a-1][o])){for(var d=r[a][o],c=o;c>0&&r[a][c]==r[a][c-1];)c--;0===c?e(l.find("tr").not(l.find("table tr")).get(a+1)).prepend(d):e(r[a+1][c-1]).after(d)}}var p=s.parent();s.remove(),0===p.find("tr").length&&p.remove(),r=x(l)}i.min_i>0?t.selection.setAtEnd(r[i.min_i-1][0]):t.selection.setAtEnd(r[0][0]),t.selection.restore(),t.popups.hide("table.edit")}}}function v(l){var o=t.$el.find(".fr-selected-cell").closest("table");if(o.length>0){var s,r=x(),i=k(r);s="before"==l?i.min_j:i.max_j;var n,f=100/r[0].length,d=100/(r[0].length+1);o.find("th, td").each(function(){n=e(this),n.data("old-width",n.outerWidth()/o.outerWidth()*100)}),o.find("tr").not(o.find("table tr")).each(function(t){for(var a,o=e(this),i=0,n=0;s>i-1;){if(a=o.find("> th, > td").get(n),!a){a=null;break}a==r[t][i]?(i+=parseInt(e(a).attr("colspan"),10)||1,n++):(i+=parseInt(e(r[t][i]).attr("colspan"),10)||1,"after"==l&&(a=0===n?-1:o.find("> th, > td").get(n-1)))}var c=e(a);if("after"==l&&i-1>s||"before"==l&&s>0&&r[t][s]==r[t][s-1]){if(0===t||t>0&&r[t][s]!=r[t-1][s]){var p=parseInt(c.attr("colspan"),10)+1;c.attr("colspan",p),c.css("width",(c.data("old-width")*d/f+d).toFixed(4)+"%"),c.removeData("old-width")}}else{var h;h=o.find("th").length>0?'<th style="width: '+d.toFixed(4)+'%;"><br></th>':'<td style="width: '+d.toFixed(4)+'%;"><br></td>',-1==a?o.prepend(h):null==a?o.append(h):"before"==l?c.before(h):"after"==l&&c.after(h)}}),o.find("th, td").each(function(){n=e(this),n.data("old-width")&&(n.css("width",(n.data("old-width")*d/f).toFixed(4)+"%"),n.removeData("old-width"))}),t.popups.isVisible("table.edit")&&a()}}function w(){var l=t.$el.find(".fr-selected-cell").closest("table");if(l.length>0){var a,o,s,r=x(),i=k(r);if(0===i.min_j&&i.max_j==r[0].length-1)h();else{var n=100/r[0].length,f=100/(r[0].length-i.max_j+i.min_j-1);for(l.find("th, td").each(function(){s=e(this),s.hasClass("fr-selected-cell")||s.data("old-width",s.outerWidth()/l.outerWidth()*100)}),o=i.max_j;o>=i.min_j;o--)for(a=0;a<r.length;a++)if(0===a||r[a][o]!=r[a-1][o])if(s=e(r[a][o]),parseInt(s.attr("colspan"),10)>1){var d=parseInt(s.attr("colspan"),10)-1;1==d?s.removeAttr("colspan"):s.attr("colspan",d),s.css("width",((s.data("old-width")-G(o,r))*f/n).toFixed(4)+"%"),s.removeData("old-width")}else{var c=e(s.parent().get(0));s.remove(),0===c.find("> th, > td").length&&(0===c.prev().length||0===c.next().length||c.prev().find("> th[rowspan], > td[rowspan]").length<c.prev().find("> th, > td").length)&&c.remove()}i.min_j>0?t.selection.setAtEnd(r[i.min_i][i.min_j-1]):t.selection.setAtEnd(r[i.min_i][0]),t.selection.restore(),t.popups.hide("table.edit"),l.find("th, td").each(function(){s=e(this),s.data("old-width")&&(s.css("width",(s.data("old-width")*f/n).toFixed(4)+"%"),s.removeData("old-width"))})}}}function C(){if(t.$el.find(".fr-selected-cell").length>1&&(0===t.$el.find("th.fr-selected-cell").length||0===t.$el.find("td.fr-selected-cell").length)){var l,o,s,r=x(),i=k(r),n=t.$el.find(".fr-selected-cell"),f=e(n[0]),d=f.parent(),c=d.find(".fr-selected-cell"),p=f.closest("table"),h=f.html(),b=0;for(l=0;l<c.length;l++)b+=e(c[l]).outerWidth();for(f.css("width",(b/d.outerWidth()*100).toFixed(4)+"%"),i.min_j<i.max_j&&f.attr("colspan",i.max_j-i.min_j+1),i.min_i<i.max_i&&f.attr("rowspan",i.max_i-i.min_i+1),l=1;l<n.length;l++)o=e(n[l]),"<br>"!=o.html()&&""!==o.html()&&(h+="<br>"+o.html()),o.remove();f.html(h),t.selection.setAtEnd(f.get(0)),t.selection.restore(),t.toolbar.enable();var u=p.find("tr:empty");for(l=u.length-1;l>=0;l--)s=e(u[l]),(0===s.prev().length||0===s.next().length||s.prev().find("> th[rowspan], > td[rowspan]").length<s.prev().find("> th, > td").length)&&s.remove();a()}}function $(){if(1==t.$el.find(".fr-selected-cell").length){var l=t.$el.find(".fr-selected-cell"),a=l.parent(),o=l.closest("table"),s=parseInt(l.attr("rowspan"),10),r=x(),i=I(l.get(0),r),n=l.clone().html("<br>");if(s>1){var f=Math.ceil(s/2);f>1?l.attr("rowspan",f):l.removeAttr("rowspan"),s-f>1?n.attr("rowspan",s-f):n.removeAttr("rowspan");for(var d=i.row+f,c=0===i.col?i.col:i.col-1;c>=0&&(r[d][c]==r[d][c-1]||d>0&&r[d][c]==r[d-1][c]);)c--;-1==c?e(o.find("tr").not(o.find("table tr")).get(d)).prepend(n):e(r[d][c]).after(n)}else{var p,h=e("<tr>").append(n);for(p=0;p<r[0].length;p++)if(0===p||r[i.row][p]!=r[i.row][p-1]){var b=e(r[i.row][p]);b.is(l)||b.attr("rowspan",(parseInt(b.attr("rowspan"),10)||1)+1)}a.after(h)}_(),t.popups.hide("table.edit")}}function E(){if(1==t.$el.find(".fr-selected-cell").length){var l=t.$el.find(".fr-selected-cell"),a=parseInt(l.attr("colspan"),10)||1,o=l.parent().outerWidth(),s=l.outerWidth(),r=l.clone().html("<br>"),i=x(),n=I(l.get(0),i);if(a>1){var f=Math.ceil(a/2);s=J(n.col,n.col+f-1,i)/o*100;var d=J(n.col+f,n.col+a-1,i)/o*100;f>1?l.attr("colspan",f):l.removeAttr("colspan"),a-f>1?r.attr("colspan",a-f):r.removeAttr("colspan"),l.css("width",s.toFixed(4)+"%"),r.css("width",d.toFixed(4)+"%")}else{var c;for(c=0;c<i.length;c++)if(0===c||i[c][n.col]!=i[c-1][n.col]){var p=e(i[c][n.col]);if(!p.is(l)){var h=(parseInt(p.attr("colspan"),10)||1)+1;p.attr("colspan",h)}}s=s/o*100/2,l.css("width",s.toFixed(4)+"%"),r.css("width",s.toFixed(4)+"%")}l.after(r),_(),t.popups.hide("table.edit")}}function y(e){"REMOVE"!=e?t.$el.find(".fr-selected-cell").css("background-color",t.helpers.HEXtoRGB(e)):t.$el.find(".fr-selected-cell").css("background-color","")}function F(e){t.$el.find(".fr-selected-cell").css("vertical-align",e)}function M(e){t.$el.find(".fr-selected-cell").css("text-align",e)}function A(e,t,l,a){if(t.length>0){if(!l){var o=Object.keys(a);o.splice(o.indexOf(e),1),t.removeClass(o.join(" "))}t.toggleClass(e)}}function x(l){l=l||null;var a=[];if(null==l&&t.$el.find(".fr-selected-cell").length>0&&(l=t.$el.find(".fr-selected-cell").closest("table")),l){var o=e(l);return o.find("tr").not(o.find("table tr")).each(function(t,l){var o=e(l),s=0;o.find("> th, > td").each(function(l,o){for(var r=e(o),i=parseInt(r.attr("colspan"),10)||1,n=parseInt(r.attr("rowspan"),10)||1,f=t;t+n>f;f++)for(var d=s;s+i>d;d++)a[f]||(a[f]=[]),a[f][d]?s++:a[f][d]=o;s+=i})}),a}}function I(e,t){for(var l=0;l<t.length;l++)for(var a=0;a<t[l].length;a++)if(t[l][a]==e)return{row:l,col:a}}function R(e,t,l){for(var a=e+1,o=t+1;a<l.length;){if(l[a][t]!=l[e][t]){a--;break}a++}for(a==l.length&&a--;o<l[e].length;){if(l[e][o]!=l[e][t]){o--;break}o++}return o==l[e].length&&o--,{row:a,col:o}}function _(){var l=t.$el.find(".fr-selected-cell");l.length>0&&l.each(function(){var t=e(this);t.removeClass("fr-selected-cell"),""===t.attr("class")&&t.removeAttr("class")})}function O(){setTimeout(function(){t.selection.clear(),t.$el.addClass("fr-no-selection"),t.edit.off(),t.$el.blur()},0)}function k(e){var l,a=e.length,o=0,s=e[0].length,r=0,i=t.$el.find(".fr-selected-cell");for(l=0;l<i.length;l++){var n=I(i[l],e),f=R(n.row,n.col,e);a=Math.min(n.row,a),o=Math.max(f.row,o),s=Math.min(n.col,s),r=Math.max(f.col,r)}return{min_i:a,max_i:o,min_j:s,max_j:r}}function D(t,l,a,o,s){var r,i,n,f,d=t,c=l,p=a,h=o;for(r=d;c>=r;r++)((parseInt(e(s[r][p]).attr("rowspan"),10)||1)>1||(parseInt(e(s[r][p]).attr("colspan"),10)||1)>1)&&(n=I(s[r][p],s),f=R(n.row,n.col,s),d=Math.min(n.row,d),c=Math.max(f.row,c),p=Math.min(n.col,p),h=Math.max(f.col,h)),((parseInt(e(s[r][h]).attr("rowspan"),10)||1)>1||(parseInt(e(s[r][h]).attr("colspan"),10)||1)>1)&&(n=I(s[r][h],s),f=R(n.row,n.col,s),d=Math.min(n.row,d),c=Math.max(f.row,c),p=Math.min(n.col,p),h=Math.max(f.col,h));for(i=p;h>=i;i++)((parseInt(e(s[d][i]).attr("rowspan"),10)||1)>1||(parseInt(e(s[d][i]).attr("colspan"),10)||1)>1)&&(n=I(s[d][i],s),f=R(n.row,n.col,s),d=Math.min(n.row,d),c=Math.max(f.row,c),p=Math.min(n.col,p),h=Math.max(f.col,h)),((parseInt(e(s[c][i]).attr("rowspan"),10)||1)>1||(parseInt(e(s[c][i]).attr("colspan"),10)||1)>1)&&(n=I(s[c][i],s),f=R(n.row,n.col,s),d=Math.min(n.row,d),c=Math.max(f.row,c),p=Math.min(n.col,p),h=Math.max(f.col,h));return d==t&&c==l&&p==a&&h==o?{min_i:t,max_i:l,min_j:a,max_j:o}:D(d,c,p,h,s)}function S(t){var l=k(t),a=e(t[l.min_i][l.min_j]),o=e(t[l.min_i][l.max_j]),s=e(t[l.max_i][l.min_j]),r=a.offset().left,i=o.offset().left+o.outerWidth(),n=a.offset().top,f=s.offset().top+s.outerHeight();return{left:r,right:i,top:n,bottom:f}}function z(t,l){if(e(t).is(l))_(),e(t).addClass("fr-selected-cell");else{O();var a=x(),o=I(t,a),s=I(l,a),r=D(Math.min(o.row,s.row),Math.max(o.row,s.row),Math.min(o.col,s.col),Math.max(o.col,s.col),a);_();for(var i=r.min_i;i<=r.max_i;i++)for(var n=r.min_j;n<=r.max_j;n++)e(a[i][n]).addClass("fr-selected-cell")}}function T(l){var a=null,o=e(l.target);return"TD"==l.target.tagName||"TH"==l.target.tagName?a=l.target:o.closest("td").length>0?a=o.closest("td").get(0):o.closest("th").length>0&&(a=o.closest("th").get(0)),0===t.$el.find(a).length?null:a}function B(l){if(t.$el.find(".fr-selected-cell").length>0&&!l.shiftKey&&(_(),t.$el.removeClass("fr-no-selection"),t.edit.on()),1==l.which){ie=!0;var a=T(l);if(a){t.popups.hide("table.edit"),l.stopPropagation(),t.events.trigger("image.hideResizer"),t.events.trigger("video.hideResizer"),re=!0;var o=a.tagName.toLowerCase();l.shiftKey&&e(o+".fr-selected-cell").length>0?e(e(o+".fr-selected-cell").closest("table")).is(e(a).closest("table"))?z(ne,a):O():((t.keys.ctrlKey(l)||l.shiftKey)&&O(),ne=a,z(ne,ne))}}}function N(l){if(1==l.which){if(ie=!1,re){re=!1;var o=T(l);o||1!=t.$el.find(".fr-selected-cell").length?t.$el.find(".fr-selected-cell").length>0&&(t.selection.isCollapsed()?a():_()):_()}else t.$tb.is(l.target)||t.$tb.is(e(l.target).closest(t.$tb.get(0)))||(t.$el.get(0).querySelectorAll(".fr-selected-cell").length>0&&t.toolbar.enable(),_());if(de){de=!1,oe.removeClass("fr-moving"),t.$el.removeClass("fr-no-selection"),t.edit.on();var s=parseFloat(oe.css("left"))+t.opts.tableResizerOffset;t.opts.iframe&&(s-=t.$iframe.offset().left),oe.data("release-position",s),oe.removeData("max-left"),oe.removeData("max-right"),U(l),W()}}}function H(l){if(re===!0){var a=e(l.currentTarget);if(a.closest("table").is(t.$el.find(".fr-selected-cell").closest("table"))){if("TD"==l.currentTarget.tagName&&0===t.$el.find("th.fr-selected-cell").length)return void z(ne,l.currentTarget);if("TH"==l.currentTarget.tagName&&0===t.$el.find("td.fr-selected-cell").length)return void z(ne,l.currentTarget)}O()}}function L(e){(37==e.which||38==e.which||39==e.which||40==e.which)&&t.$el.find(".fr-selected-cell").length>0&&(_(),t.popups.hide("table.edit"))}function j(){oe=e('<div class="fr-table-resizer"><div></div></div>'),t.$wp.append(oe),oe.on("mousedown",function(){de=!0,oe.addClass("fr-moving"),_(),O(),oe.find("div").css("opacity",1)}),t.events.on("destroy",function(){oe.off("mousedown"),oe.html("").removeData().remove()},!0)}function W(){oe.find("div").css("opacity",0),oe.css("top",0),oe.css("left",0),oe.css("height",0),oe.find("div").css("height",0),oe.hide()}function V(l,a){var o=e(a),s=o.closest("table");if(a&&"TD"!=a.tagName&&"TH"!=a.tagName&&(o.closest("td").length>0?a=o.closest("td"):o.closest("th").length>0&&(a=o.closest("th"))),!a||"TD"!=a.tagName&&"TH"!=a.tagName)o.get(0)!=oe.get(0)&&o.parent().get(0)!=oe.get(0)&&W();else{if(o=e(a),0===t.$el.find(o).length)return!1;var r=o.offset().left-1,i=r+o.outerWidth();if(Math.abs(l.pageX-r)<=t.opts.tableResizerOffset||Math.abs(i-l.pageX)<=t.opts.tableResizerOffset){var n,f,d,c,p,h=x(s),b=I(a,h),u=R(b.row,b.col,h),g=s.offset().top,m=s.outerHeight()-1;if(b.col>0&&l.pageX-r<=t.opts.tableResizerOffset){d=r;var v=e(h[b.row][b.col-1]);c=1==(parseInt(v.attr("colspan"),10)||1)?v.offset().left-1+t.opts.tableResizingLimit:r-G(b.col-1,h)+t.opts.tableResizingLimit,p=1==(parseInt(o.attr("colspan"),10)||1)?r+o.outerWidth()-t.opts.tableResizingLimit:r+G(b.col,h)-t.opts.tableResizingLimit,n=b.col-1,f=b.col}else if(i-l.pageX<=t.opts.tableResizerOffset)if(d=i,u.col<h[u.row].length&&h[u.row][u.col+1]){var w=e(h[u.row][u.col+1]);c=1==(parseInt(o.attr("colspan"),10)||1)?r+t.opts.tableResizingLimit:i-G(u.col,h)+t.opts.tableResizingLimit,p=1==(parseInt(w.attr("colspan"),10)||1)?i+w.outerWidth()-t.opts.tableResizingLimit:i+G(b.col+1,h)-t.opts.tableResizingLimit,n=u.col,f=u.col+1}else{n=u.col,f=null;var C=s.parent();c=s.offset().left-1+h[0].length*t.opts.tableResizingLimit,p=C.offset().left-1+C.width()+parseFloat(C.css("padding-left"))}oe.data("table",s),oe.data("first",n),oe.data("second",f);var $=d-t.window.pageXOffset-t.opts.tableResizerOffset,E=g-t.window.pageYOffset;t.opts.iframe&&($+=t.$iframe.offset().left-e(t.original_window).scrollLeft(),E+=t.$iframe.offset().top-e(t.original_window).scrollTop(),c+=t.$iframe.offset().left,p+=t.$iframe.offset().left),oe.data("max-left",c),oe.data("max-right",p),oe.data("origin",d-t.window.pageXOffset),oe.css("top",E),oe.css("left",$),oe.css("height",m),oe.find("div").css("height",m),oe.css("padding-left",t.opts.tableResizerOffset),oe.css("padding-right",t.opts.tableResizerOffset),oe.show()}else W()}}function X(l,a){if(t.$box.find(".fr-line-breaker").is(":visible"))return!1;var o=e(a),s=o.find("tr:first"),r=l.pageX,i=0,n=0;t.opts.iframe&&(i+=t.$iframe.offset().left-e(t.original_window).scrollLeft(),n+=t.$iframe.offset().top-e(t.original_window).scrollTop());var f;s.find("th, td").each(function(){var l=e(this);return l.offset().left<=r&&r<l.offset().left+l.outerWidth()/2?(se.find("a").attr("title",t.language.translate("Insert Column")),f=parseInt(se.find("a").css("width"),10),se.css("top",n+l.offset().top-t.window.pageYOffset-f-5),se.css("left",i+l.offset().left-t.window.pageXOffset-f/2),se.data("selected-cell",l),se.data("position","before"),se.addClass("fr-visible"),!1):l.offset().left+l.outerWidth()/2<=r&&r<l.offset().left+l.outerWidth()?(se.find("a").attr("title",t.language.translate("Insert Column")),f=parseInt(se.find("a").css("width"),10),se.css("top",n+l.offset().top-t.window.pageYOffset-f-5),se.css("left",i+l.offset().left+l.outerWidth()-t.window.pageXOffset-f/2),se.data("selected-cell",l),se.data("position","after"),se.addClass("fr-visible"),!1):void 0})}function P(l,a){if(t.$box.find(".fr-line-breaker").is(":visible"))return!1;var o=e(a),s=l.pageY,r=0,i=0;t.opts.iframe&&(r+=t.$iframe.offset().left-e(t.original_window).scrollLeft(),i+=t.$iframe.offset().top-e(t.original_window).scrollTop());var n;o.find("tr").each(function(){var l=e(this);return l.offset().top<=s&&s<l.offset().top+l.outerHeight()/2?(se.find("a").attr("title",t.language.translate("Insert Row")),n=parseInt(se.find("a").css("width"),10),se.css("top",i+l.offset().top-t.window.pageYOffset-n/2),se.css("left",r+l.offset().left-t.window.pageXOffset-n-5),se.data("selected-cell",l.find("td:first")),se.data("position","above"),se.addClass("fr-visible"),!1):l.offset().top+l.outerHeight()/2<=s&&s<l.offset().top+l.outerHeight()?(se.find("a").attr("title",t.language.translate("Insert Row")),n=parseInt(se.find("a").css("width"),10),se.css("top",i+l.offset().top+l.outerHeight()-t.window.pageYOffset-n/2),se.css("left",r+l.offset().left-t.window.pageXOffset-n-5),se.data("selected-cell",l.find("td:first")),se.data("position","below"),se.addClass("fr-visible"),!1):void 0})}function Y(l,a){if(0===t.$el.find(".fr-selected-cell").length){var o,s,r;if(se.removeClass("fr-visible"),a&&("HTML"==a.tagName||"BODY"==a.tagName||t.node.isElement(a)))for(o=1;o<=t.opts.tableInsertHelperOffset;o++){if(s=t.document.elementFromPoint(l.pageX-t.window.pageXOffset,l.pageY-t.window.pageYOffset+o),s&&("TH"==s.tagName||"TD"==s.tagName||"TABLE"==s.tagName)&&e(s).parents(t.$wp).length){X(l,s.closest("table"));break}if(r=t.document.elementFromPoint(l.pageX-t.window.pageXOffset+o,l.pageY-t.window.pageYOffset),r&&("TH"==r.tagName||"TD"==r.tagName||"TABLE"==r.tagName)&&e(r).parents(t.$wp).length){P(l,r.closest("table"));break}}}}function K(e){fe=null;var l=t.document.elementFromPoint(e.pageX-t.window.pageXOffset,e.pageY-t.window.pageYOffset);(!t.popups.areVisible()||t.popups.areVisible()&&t.popups.isVisible("table.edit"))&&V(e,l),t.popups.areVisible()||t.$tb.hasClass("fr-inline")&&t.$tb.is(":visible")||Y(e,l)}function q(){if(de){var e=oe.data("table");oe.css("top",e.offset().top-t.window.pageYOffset)}}function U(){var l=oe.data("origin"),a=oe.data("release-position");if(l!==a){var o=oe.data("first"),s=oe.data("second"),r=oe.data("table"),i=r.outerWidth();if(null!==o&&null!==s){var n,f,d,c=x(r),p=[],h=[],b=[],u=[];for(n=0;n<c.length;n++)f=e(c[n][o]),d=e(c[n][s]),p[n]=f.outerWidth(),b[n]=d.outerWidth(),h[n]=p[n]/i*100,u[n]=b[n]/i*100;for(n=0;n<c.length;n++){f=e(c[n][o]),d=e(c[n][s]);var g=(h[n]*(p[n]+a-l)/p[n]).toFixed(4);f.css("width",g+"%"),d.css("width",(h[n]+u[n]-g).toFixed(4)+"%")}}else{var m,v=r.parent(),w=i/v.width()*100;m=null==o?(i-a+l)/i*w:(i+a-l)/i*w,r.css("width",Math.round(m).toFixed(4)+"%")}}oe.removeData("origin"),oe.removeData("release-position"),oe.removeData("first"),oe.removeData("second"),oe.removeData("table"),t.undo.saveStep()}function G(t,l){var a,o=e(l[0][t]).outerWidth();for(a=1;a<l.length;a++)o=Math.min(o,e(l[a][t]).outerWidth());return o}function J(e,t,l){var a,o=0;for(a=e;t>=a;a++)o+=G(a,l);return o}function Q(e){if(ie===!1&&re===!1&&de===!1)fe&&clearTimeout(fe),fe=setTimeout(K,30,e);else if(de){var l=e.pageX-t.window.pageXOffset;t.opts.iframe&&(l+=t.$iframe.offset().left);var a=oe.data("max-left"),o=oe.data("max-right");l>=a&&o>=l?oe.css("left",l-t.opts.tableResizerOffset):a>l&&parseFloat(oe.css("left"),10)>a-t.opts.tableResizerOffset?oe.css("left",a-t.opts.tableResizerOffset):l>o&&parseFloat(oe.css("left"),10)<o-t.opts.tableResizerOffset&&oe.css("left",o-t.opts.tableResizerOffset)}else ie&&se.removeClass("fr-visible")}function Z(l){t.node.isEmpty(l.get(0))?l.prepend(e.FroalaEditor.MARKERS):l.prepend(e.FroalaEditor.START_MARKER).append(e.FroalaEditor.END_MARKER)}function ee(l){var a=l.which;if(a==e.FroalaEditor.KEYCODE.TAB&&0===t.opts.tabSpaces){var o;if(t.$el.find(".fr-selected-cell").length>0)o=t.$el.find(".fr-selected-cell:last");else{var s=t.selection.element();"TD"==s.tagName||"TH"==s.tagName?o=e(s):e(s).closest("td").length>0?o=e(s).closest("td"):e(s).closest("th").length>0&&(o=e(s).closest("th"))}o&&(l.preventDefault(),_(),t.popups.hide("table.edit"),l.shiftKey?o.prev().length>0?Z(o.prev()):o.closest("tr").length>0&&o.closest("tr").prev().length>0?Z(o.closest("tr").prev().find("td:last")):o.closest("tbody").length>0&&o.closest("table").find("thead tr").length>0&&Z(o.closest("table").find("thead tr th:last")):o.next().length>0?Z(o.next()):o.closest("tr").length>0&&o.closest("tr").next().length>0?Z(o.closest("tr").next().find("td:first")):o.closest("thead").length>0&&o.closest("table").find("tbody tr").length>0?Z(o.closest("table").find("tbody tr td:first")):(o.addClass("fr-selected-cell"),g("below"),_(),Z(o.closest("tr").next().find("td:first"))),t.selection.restore())}}function te(){se=e('<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabindex="-1" title="'+t.language.translate("Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),t.$box.append(se),t.events.on("destroy",function(){se.html("").removeData().remove()},!0),se.on("mousemove",function(e){e.stopPropagation()}),e(t.window).on("scroll.table"+t.id,function(){se.removeClass("fr-visible")}),t.events.bindClick(se,"a",function(){var e=se.data("selected-cell"),t=se.data("position");"before"==t?(e.addClass("fr-selected-cell"),v(t),e.removeClass("fr-selected-cell")):"after"==t?(e.addClass("fr-selected-cell"),v(t),e.removeClass("fr-selected-cell")):"above"==t?(e.addClass("fr-selected-cell"),g(t),e.removeClass("fr-selected-cell")):"below"==t&&(e.addClass("fr-selected-cell"),g(t),e.removeClass("fr-selected-cell")),se.removeClass("fr-visible")}),t.events.on("destroy",function(){se.off("mousemove"),e(t.window).off("scroll.table"+t.id)},!0)}function le(){return t.$wp?(t.helpers.isMobile()||(ie=!1,re=!1,de=!1,j(),t.opts.tableInsertHelper&&te(),t.$el.on("mousedown.table"+t.id,B),t.popups.onShow("image.edit",function(){_(),ie=!1,re=!1}),t.popups.onShow("link.edit",function(){_(),ie=!1,re=!1}),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&_()}),t.$el.on("mouseenter.table"+t.id,"th, td",H),t.$window.on("mouseup.table"+t.id,N),t.$el.on("keydown.table"+t.id,L),t.$window.on("mousemove.table"+t.id,Q),e(t.window).on("scroll.table"+t.id,q),t.events.on("contentChanged",function(){t.$el.find(".fr-selected-cell").length>0&&(a(),t.$el.find("img").on("load.selected-cells",function(){e(this).off("load.selected-cells"),t.$el.find(".fr-selected-cell").length>0&&a()}))}),e(t.original_window).on("resize.table"+t.id,function(){_()}),t.events.on("keydown",function(l){if(t.$el.find(".fr-selected-cell").length>0){if(l.which==e.FroalaEditor.KEYCODE.ESC&&t.popups.isVisible("table.edit"))return _(),t.popups.hide("table.edit"),l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation(),!1;if(t.$el.find(".fr-selected-cell").length>1)return l.preventDefault(),!1}},!0),e(t.window).on("keydown.table"+t.id,a),e(t.window).on("input.table"+t.id,a),e(t.window).on("keyup.table"+t.id,a),t.events.on("html.get",function(e){return e=e.replace(/<(td|th)((?:[\w\W]*?))class="([\w\W]*?)fr-selected-cell([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/(td|th)>/g,'<$1$2class="$3$4"$5>$6</$7>'),e=e.replace(/<(td|th)((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/(td|th)>/g,"<$1$2$3>$4</$5>")}),t.events.on("destroy",function(){t.$el.off("mousedown.table"+t.id),t.$el.off("mouseenter.table"+t.id,"th, td"),t.$window.off("mouseup.table"+t.id),t.$el.off("keydown.table"+t.id),t.$window.off("mousemove.table"+t.id),e(t.window).off("scroll.table"+t.id),e(t.window).off("keydown.table"+t.id),e(t.window).off("input.table"+t.id),e(t.window).off("keyup.table"+t.id)},!0)),void t.events.on("keydown",ee,!0)):!1}function ae(){t.$el.find(".fr-selected-cell").length>0?a():(t.popups.hide("table.insert"),t.toolbar.showInline())}var oe,se,re,ie,ne,fe,de;return{_init:le,insert:p,remove:h,insertRow:g,deleteRow:m,insertColumn:v,deleteColumn:w,mergeCells:C,splitCellVertically:E,splitCellHorizontally:$,addHeader:b,removeHeader:u,setBackground:y,showInsertPopup:l,showEditPopup:a,showColorsPopup:o,back:ae,verticalAlign:F,horizontalAlign:M,applyStyle:A}},e.FroalaEditor.DefineIcon("insertTable",{NAME:"table"}),e.FroalaEditor.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),e.FroalaEditor.RegisterCommand("tableInsert",{callback:function(e,t,l){this.table.insert(t,l),this.popups.hide("table.insert")}}),e.FroalaEditor.DefineIcon("tableHeader",{NAME:"header"}),e.FroalaEditor.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,callback:function(){var e=this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]');e.hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var t=this.$el.find(".fr-selected-cell").closest("table");t.length>0&&(0===t.find("th").length?e.removeClass("fr-active"):e.addClass("fr-active"))}}),e.FroalaEditor.DefineIcon("tableRows",{NAME:"bars"}),e.FroalaEditor.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below","delete":"Delete row"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FroalaEditor.COMMANDS.tableRows.options;for(var a in l)t+='<li><a class="fr-command" data-cmd="tableRows" data-param1="'+a+'" title="'+this.language.translate(l[a])+'">'+this.language.translate(l[a])+"</a></li>";return t+="</ul>"},callback:function(e,t){"above"==t||"below"==t?this.table.insertRow(t):this.table.deleteRow()}}),e.FroalaEditor.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90"}),e.FroalaEditor.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after","delete":"Delete column"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FroalaEditor.COMMANDS.tableColumns.options;for(var a in l)t+='<li><a class="fr-command" data-cmd="tableColumns" data-param1="'+a+'" title="'+this.language.translate(l[a])+'">'+this.language.translate(l[a])+"</a></li>";return t+="</ul>"},callback:function(e,t){"before"==t||"after"==t?this.table.insertColumn(t):this.table.deleteColumn()}}),e.FroalaEditor.DefineIcon("tableCells",{NAME:"square-o"}),e.FroalaEditor.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"
},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FroalaEditor.COMMANDS.tableCells.options;for(var a in l)t+='<li><a class="fr-command" data-cmd="tableCells" data-param1="'+a+'" title="'+this.language.translate(l[a])+'">'+this.language.translate(l[a])+"</a></li>";return t+="</ul>"},callback:function(e,t){"merge"==t?this.table.mergeCells():"vertical-split"==t?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,t){this.$el.find(".fr-selected-cell").length>1?(t.find('a[data-param1="vertical-split"]').addClass("fr-disabled"),t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled"),t.find('a[data-param1="merge"]').removeClass("fr-disabled")):(t.find('a[data-param1="merge"]').addClass("fr-disabled"),t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled"),t.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled"))}}),e.FroalaEditor.DefineIcon("tableRemove",{NAME:"trash"}),e.FroalaEditor.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),e.FroalaEditor.DefineIcon("tableStyle",{NAME:"paint-brush"}),e.FroalaEditor.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.tableStyles;for(var l in t)e+='<li><a class="fr-command" data-cmd="tableStyle" data-param1="'+l+'" title="'+this.language.translate(t[l])+'">'+this.language.translate(t[l])+"</a></li>";return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(t,l){var a=this.$el.find(".fr-selected-cell").closest("table");a&&l.find(".fr-command").each(function(){var t=e(this).data("param1");e(this).toggleClass("fr-active",a.hasClass(t))})}}),e.FroalaEditor.DefineIcon("tableCellBackground",{NAME:"tint"}),e.FroalaEditor.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,callback:function(){this.table.showColorsPopup()}}),e.FroalaEditor.RegisterCommand("tableCellBackgroundColor",{undo:!0,focus:!1,callback:function(e,t){this.table.setBackground(t)}}),e.FroalaEditor.DefineIcon("tableBack",{NAME:"arrow-left"}),e.FroalaEditor.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.table.back()},refresh:function(e){0!==this.$el.find(".fr-selected-cell").length||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FroalaEditor.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v"}),e.FroalaEditor.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FroalaEditor.COMMANDS.tableCellVerticalAlign.options;for(var a in l)t+='<li><a class="fr-command" data-cmd="tableCellVerticalAlign" data-param1="'+a.toLowerCase()+'" title="'+this.language.translate(l[a])+'">'+this.language.translate(a)+"</a></li>";return t+="</ul>"},callback:function(e,t){this.table.verticalAlign(t)},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active")}}),e.FroalaEditor.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left"}),e.FroalaEditor.DefineIcon("align-left",{NAME:"align-left"}),e.FroalaEditor.DefineIcon("align-right",{NAME:"align-right"}),e.FroalaEditor.DefineIcon("align-center",{NAME:"align-center"}),e.FroalaEditor.DefineIcon("align-justify",{NAME:"align-justify"}),e.FroalaEditor.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FroalaEditor.COMMANDS.tableCellHorizontalAlign.options;for(var a in l)t+='<li><a class="fr-command fr-title" data-cmd="tableCellHorizontalAlign" data-param1="'+a+'" title="'+this.language.translate(l[a])+'">'+this.icon.create("align-"+a)+"</a></li>";return t+="</ul>"},callback:function(e,t){this.table.horizontalAlign(t)},refresh:function(e){e.find("> *:first").replaceWith(this.icon.create("align-"+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))))},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))+'"]').addClass("fr-active")}}),e.FroalaEditor.DefineIcon("tableCellStyle",{NAME:"magic"}),e.FroalaEditor.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.tableCellStyles;for(var l in t)e+='<li><a class="fr-command" data-cmd="tableCellStyle" data-param1="'+l+'" title="'+this.language.translate(t[l])+'">'+this.language.translate(t[l])+"</a></li>";return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(t,l){var a=this.$el.find(".fr-selected-cell:first");a&&l.find(".fr-command").each(function(){var t=e(this).data("param1");e(this).toggleClass("fr-active",a.hasClass(t))})}})});